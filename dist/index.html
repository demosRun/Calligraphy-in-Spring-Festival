<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <title>{TAG_14226_TAG}</title>
    <!-- 页面的元信息 -->
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>
    <meta name="format-detection" content="telephone=no, email=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="white"/>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="filetype" content="1"/>
    <meta name="publishedtype" content="1"/>
    <meta name="pagetype" content="2"/>
    <meta name="screen-orientation" content="landscape"/>
    <meta name="x5-orientation" content="landscape"/>
    <meta name="full-screen" content="yes"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="browsermode" content="application"/>
    <meta name="x5-page-mode" content="app"/>
    
      <!-- 页面主样式文件 -->
      <link charset="utf-8"  rel="stylesheet" href="./static/css/owo.main.css">
      
    <!-- 附属css文件 -->
    <link rel="stylesheet" href="./static/css/main.css" charset="utf-8">
      
  </head>
  <body>
    <div class="scale-box"><!-- 页面区域 -->
    <!-- 页面[page1]-->
    <div class="page-1 page" template="page1" style="display: none;"><img class="so-2" id="meihua" src="./static/resource/start-2.png"><img class="so-3" id="huaban" src="./static/resource/start-3.png"><img class="so-4" id="mainText" src="./static/resource/start-4.png"><img class="so-5 owo-animation-shrink" id="yinzhang" src="./static/resource/start-5.png" o-animation="shrink" o-tap="switchProp"><img class="so-6" id="yanzi" src="./static/resource/start-6.png"><img class="so-7" src="./static/resource/start-7.png"><div class="game-prop" o-if="this.data.showProp"><img class="so-2" src="./static/resource/page1-1-2.png"><img class="so-3" src="./static/resource/page1-1-3.png" go="page2///fade/moveFromRight/fade/moveFromLeft"><img class="so-4" src="./static/resource/page1-1-4.png" o-tap="switchProp"></div></div>
    <!-- 页面[page2]-->
    <div class="page-2 page" template="page2" style="display: none;"><div class="so-2-1 show-card" group="1" ind="1" o-tap="checkItem" info="冯远/中国文联副主席、/中央文史研究馆副馆长、/中国美术家协会名誉主席"><img class="text-bg" src="./static/resource/page1-2-1.png"><img class="text" src="./static/resource/page1-2-2.png"></div><div class="so-3-1 show-card" group="2" ind="2" o-tap="checkItem" info="测试2/中国文联副主席、/中国美术家协会名誉主席"><img class="text-bg" src="./static/resource/page1-2-1.png"><img class="text" src="./static/resource/page1-4-2.png"></div><div class="so-4-1 show-card" group="2" ind="3" o-tap="checkItem" info="测试3//中国美术家协会名誉主席"><img class="text-bg" src="./static/resource/page1-2-1.png"><img class="text" src="./static/resource/page1-5-2.png"></div><div class="so-5-1 show-card" group="1" ind="4" o-tap="checkItem" info="冯远/中国文联副主席、/中央文史研究馆副馆长、/中国美术家协会名誉主席"><img class="text-bg" src="./static/resource/page1-2-1.png"><img class="text" src="./static/resource/page1-2-2.png"></div><img class="so-3 owo-animation-floatUpDownSmall" src="./static/resource/page1-2.png" o-animation="floatUpDownSmall"><img class="so-2 owo-animation-floatUpDownSmall" src="./static/resource/page1-2.png" o-animation="floatUpDownSmall"><div class="prop-box" o-if="this.data.showInfoProp"><div class="text-box" style="width: 635px; height: 486px; background-image: url(./static/resource/page2-1-2.png)"><div class="name" id="peopleName">冯远</div><ul><li o-for="this.data.peopleInfo">{value}</li></ul></div><img class="next" src="./static/resource/page2-1-3.png" o-tap="next"></div></div></div>
    

    <script src="http://tools.people.com.cn/libs/jquery/1.11.1/jquery-1.11.1.min.js" type="text/javascript"  charset="UTF-8"></script>
    <script src="./static/js/main.js" type="text/javascript"  charset="UTF-8"></script>
    <script src="./static/js/autoScale.js.js" type="text/javascript"  charset="UTF-8"></script>
<!-- 框架script文件 -->
    <script src="./static/js/owo.main.js" type="text/javascript" charset="UTF-8"></script>
<script>owo.script = {
  "page1": {
    "data": {
      "showProp": false
    },
    "created": function created() {
      console.log(this);
      owo.tool.animate('fadeInRight', owo.id.meihua, 500);
      owo.tool.animate('fadeIn', owo.id.mainText, 800);
      owo.tool.animate('fadeInRightBig', owo.id.yanzi, 800);
      owo.tool.animate('fadeIn', owo.id.huaban, 1600);
    },
    "switchProp": function switchProp() {
      this.data.showProp = !this.data.showProp;
      this.handleEvent();
    }
  },
  "page2": {
    "data": {
      "speedY": [],
      "speedX": [],
      "checkItem": null,
      "showInfoProp": false,
      "showNextProp": false,
      "peopleName": "冯远",
      "peopleInfo": []
    },
    "created": function created() {
      var _this = this;

      owo.query('.show-card').forEach(function (element) {
        element.style.top = element.offsetTop - 807 - 351 - autoScaleInfo.hideHeight - 40 + 'px';
        setTimeout(function () {
          element.style.transition = 'top 1s linear, left 1s linear';
        }, 500);
      });
      setTimeout(function () {
        _this.drop();
      }, 2000);
    },
    "drop": function drop() {
      var _this2 = this;

      var next = false;

      for (var key in owo.query('.show-card')) {
        if (owo.query('.show-card').hasOwnProperty(key)) {
          if (!this.data.speedY[key]) this.data.speedY[key] = owo.tool.randomNum(0, 100);
          this.data.speedX[key] = owo.tool.randomNum(-40, 40);
          var element = owo.query('.show-card')[key]; // element.style.top = '1157px'

          var topValue = element.offsetTop + autoScaleInfo.showHeight * 0.2 + this.data.speedY[key]; // 不能让它一直掉掉出屏幕

          var maxTop = 1508 - 351 + autoScaleInfo.hideHeight - 20;
          if (topValue > maxTop) topValue = maxTop;

          if (topValue < maxTop) {
            next = true;
          } // 左右偏移


          element.style.top = topValue + 'px';
          if (topValue != maxTop) element.style.left = element.x + this.data.speedX[key] + 'px';
        }
      }

      setTimeout(function () {
        if (next) _this2.drop();else _this2.dropEnd();
      }, 1000);
    },
    "checkItem": function checkItem() {
      var _this3 = this;

      var group = this.$target.getAttribute('group');
      var index = this.$target.getAttribute('ind');
      var info = this.$target.getAttribute('info');
      new Audio("./static/resource/Button34.wav").play(); // 判断是否点击了同样的

      if (this.data.checkItem === null) {
        this.data.checkItem = {
          group: group,
          index: index
        };
        this.$target.classList.add('check');
      } else {
        if (index === this.data.checkItem.index) {
          // this.$target.classList.remove('check')
          // this.data.checkItem = null
          this.showInfo(info);
          return;
        }

        if (group == this.data.checkItem.group) {
          owo.query("[group=\"" + group + "\"]").forEach(function (element) {
            new Audio("./static/resource/Button32.wav").play();
            element.classList.add('clear');
            element.classList.remove('check');
            _this3.data.checkItem = null;
          });
        }
      }
    },
    "showInfo": function showInfo(info) {
      info = info.split('/');
      owo.id.peopleName.innerText = info[0];
      this.data.peopleInfo = info.slice(1);
      this.data.showInfoProp = !this.data.showInfoProp;
      this.handleEvent();
    },
    "dropEnd": function dropEnd() {
      setTimeout(function () {}, 100);
    },
    "next": function next() {
      this.data.showInfoProp = false;
      this.handleEvent();
    }
  }
};</script>
  </body>
</html>